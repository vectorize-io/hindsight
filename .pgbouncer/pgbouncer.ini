[databases]
; Connect to pg0 on port 5433
; The actual pg0 database is called "hindsight"
hindsight = host=127.0.0.1 port=5433 dbname=hindsight user=hindsight password=hindsight

[pgbouncer]
listen_addr = 127.0.0.1
listen_port = 6432

; Use md5 authentication (matches pg0's auth)
auth_type = md5
auth_file = /Users/nicoloboschi/dev/memory-poc/.pgbouncer/userlist.txt

; Transaction pooling mode (recommended for hindsight)
pool_mode = transaction

; Reset connection state after each transaction
server_reset_query = DISCARD ALL

; Pool sizing
default_pool_size = 20
max_client_conn = 200
min_pool_size = 5

; Timeouts
server_idle_timeout = 600
server_lifetime = 3600
query_timeout = 120

; Logging
log_connections = 1
log_disconnections = 1
log_pooler_errors = 1

; Stats
stats_period = 60

; Admin console
admin_users = admin
